<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PWM Timer1 Modo R√°pido</title>
    <link rel="shortcut icon" href="..\Imagenes\Universidad-de-carabobo.png" />
    <!-- fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&family=Roboto&display=swap"
      rel="stylesheet"
    />
    <!-- CSS file -->
    <link rel="stylesheet" href="..\css\prueba.css" />
    <link rel="stylesheet" href="..\css\media-screen.css" />
    <link rel="stylesheet" href="..\css\descripcion-de-las-librerias.css" />
    <link rel="stylesheet" href="..\css\Manejo-de-la-pantalla-LCD.css" />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.1/css/all.css"
    />
    <link rel="stylesheet" href="..\css\como-agregar-librerias.css" />
    <!-- Js file -->
    <script src="../Js/prueba.js" defer></script>
    <script src="../Js/menu.js" defer></script>
    <script src="../Js/btn.js" defer></script>

    <!-- --------------------------------------------------------------------------------------------------------------- -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <!-- --------------------------------------------------------------------------------------------------------------- -->
  </head>

  <body>
    <style>
      p {
        margin: 0 !important;
      }
      ::-webkit-scrollbar {
        display: none;
      }
    </style>
    <!-- Top content -->
    <div class="top-content">
      <div class="icon-bar">
        <a class="microchip" href="../index.html">
          <i class="fas fa-microchip"></i>
        </a>
      </div>
      <label class="label"
        ><a href="../index.html">Microprocesadores UC</a></label
      >

      <div class="dropdow newDp inDevice">
        <a class="darkTheme" style="cursor: pointer"
          ><i class="fas fa-adjust" style="color: white"></i
        ></a>
      </div>

      <ul>
        <!-- Seccion de la teoria-->
        <div class="dropdow">
          <li class="dropbt"><a href="#">Teoria</a></li>

          <div class="dropdow-content">
            <div class="dropdow-content1">
              <a href="#" class="tema1"
                >Tema 1</i
              ></a>
              <ul>
                <a
                  href="#"
                  style="
                    border-bottom: 1px solid rgba(85, 85, 85, 0.014);
                    text-align: center;
                    background-color: #b5dfed;
                  "
                  >Sistemas microprogramables</a
                >
                <a href="Dispositivos-digitales-microprogramables.html">Microcontroladores/Microprocesadores</a>
              </ul>
            </div>

            <div class="dropdow-content2">
              <a href="#">Tema 2</a>

              <ul>
                <a
                  href="#"
                  style="
                    border-bottom: 1px solid rgba(85, 85, 85, 0.014);
                    text-align: center;
                    background-color: #b5dfed;
                  "
                  >Arquitectura de un sistema microprogramable</a
                >
                <a href="ATmega328P.html" >Arquitectura y Caracteristicas</a>
              </ul>
            </div>

            <div class="dropdow-content3">
              <a href="#">Tema 3</a>

              <ul>
                <a
                  href="#"
                  style="
                    border-bottom: 1px solid rgba(85, 85, 85, 0.014);
                    text-align: center;
                    background-color: #b5dfed;
                  "
                  >Temporizaciones e interrupciones</a
                >
                <a href="Timer-0.html">Timer 0</a>
                <a href="Timer-1.html">Timer 1</a>
                <a href="Timer-2.html">Timer 2</a>
                <a href="Manejo-de-interrupciones.html"
                  >Manejo de interrupciones</a
                >
                <a href="Modulaci√≥n-por-ancho-de-pulso.html"
                  >Modulaci√≥n por ancho de pulso <i>PWM</i></a
                >
                <a href="Timer0-Modo-Fase-Correcta.html"
                  >PWM Timer0 Modo Fase Correcta</a
                >
                <a href="Timer0-Modo-Rapido.html">PWM Timer0 Modo Rapido</a>
                <a href="Timer1-Modo-Fase-Correcta.html"
                  >PWM Timer1 Modo Fase Correcta</a
                >
                <a href="Timer1-Modo-Rapido.html">PWM Timer1 Modo Rapido</a>
              </ul>
            </div>

            <div class="dropdow-content4">
              <a href="#">Tema 4</a>

              <ul>
                <a
                  href="#"
                  style="
                    border-bottom: 1px solid rgba(85, 85, 85, 0.014);
                    text-align: center;
                    background-color: #b5dfed;
                  "
                  >Conversi√≥n Digital/Anal√≥gica - Anal√≥gica/Digital</a
                >
                <a href="Convertidor-ADC.html">Convertidor ADC</a>
              </ul>
            </div>

            <div class="dropdow-content5">
              <a href="#">Tema 5</a>

              <ul>
                <a
                  href="#"
                  style="
                    border-bottom: 1px solid rgba(85, 85, 85, 0.014);
                    text-align: center;
                    background-color: #b5dfed;
                  "
                  >Comunicaci√≥n serial</a
                >
                <a href="USART.html">Comunicaci√≥n Serial USART</a>
              </ul>
            </div>
          </div>
        </div>
        <!-- Seccion de laboratorio -->
        <div class="dropdow">
          <li class="dropbt"><a href="#">Laboratorio</a></li>

          <div class="dropdow-content">
            
                <a href="Instalacion-de-Proteus-8.5.html"
                  >Instalaci√≥n de proteus 8.5</a
                >

                <a href="como-agregar-librerias-a-proteus-8.5.html"
                  >Como agregar librerias adicionales en Proteus 8.5</a
                >
                <a href="Descripcion-y-manejo.html"
                  >Descripcion y manejo de las librerias</a
                >
                <a href="IDE-Arduino.html">IDE software Arduino</a>
                <a href="IDE-AVR-Studio-7.html">IDE AVR Studio 7</a>
                <a href="Programar-Arduino-AVRStudio.html"
                  >Programar el Arduino con AVR Studio 7</a
                >
                <a href="introduccion-al-lenguaje-de-programacion-en-C.html"
                  >Introduccion al lenguaje de programacion en C</a
                >
                <a href="manejo-del-display-7seg.html"
                  >Manejo del display 7 Segmentos</a
                >
                <a href="Manejo-de-la-pantalla-LCD.html"
                  >Manejo de la pantalla LCD</a
                >
              
          </div>
        </div>
        <!-- Seccion de descarga -->
        <div class="dropdow">
          <li class="dropbt"><a href="#">Descargas</a></li>
          <div class="dropdow-content" >
            <a
              href="https://mega.nz/folder/PJBnTSaB#Sb-LwH7cwkHzQJKevcpG1g"
              target="_blank"
              >Descargar archivos en pdf</a
            >
            <a
              href="https://mega.nz/folder/fE5AAQhY#IVL100RFiLY0-649gnbLAw"
              target="_blank"
              >Practicas del Laboratorio</a
            >
          </div>
        </div>
        <!---->
        <div class="dropdow newDp">
          <li>
            <a class="darkTheme" style="cursor: pointer"
              ><i class="fas fa-adjust" style="color: white"></i
            ></a>
          </li>
          <div class="dropdow-content"></div>
        </div>
      </ul>
    </div>

    <!-- Haburguer menu -->
    <div id="nav-icon2">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>

    <!-- Menu in devices -->

    <div class="content-device">
      <ul>
        <div class="dropdow">
          <li class="dropbt" onclick="myFunction()">Teoria</li>

          <div class="dropdow-content device">
            <a href="#" class="tema0 tema"
              >Tema 1: Sistemas microprogramables</a
            >

            <div class="subContent" style="margin-left: 2%; ">
              <a style="padding-right: 0;"
                class="before"
                href="Dispositivos-digitales-microprogramables.html"
                >Microcontroladores/Microprocesadores</a
              >
            </div>

            <a class="tema1 tema" href="#"
              >Tema 2: Arquitectura de un sistema microprogramable</a
            >

            <div class="subContent" style="margin-left: 5%">
              <a class="before" href="ATmega328P.html"
                >Arquitectura y Caracteristicas</a
              >
            </div>

            <a class="tema2 tema" href="#"
              >Tema 3: Temporizaciones e interrupciones</a
            >

            <div class="subContent" style="margin-left: 5%">
              <a class="before" href="Timer-0.html">Timer 0</a>
              <a class="before" href="Timer-1.html">Timer 1</a>
              <a class="before" href="Timer-2.html">Timer 2</a>
              <a class="before" href="Manejo-de-interrupciones.html"
                >Manejo de interrupciones</a
              >
              <a class="before" href="Modulaci√≥n-por-ancho-de-pulso.html"
                >Modulaci√≥n por ancho de pulso <i>PWM</i></a
              >
              <a class="before" href="Timer0-Modo-Fase-Correcta.html"
                >PWM Timer0 Modo Fase Correcta</a
              >
              <a class="before" href="Timer0-Modo-Rapido.html"
                >PWM Timer0 Modo Rapido</a
              >
              <a class="before" href="Timer1-Modo-Fase-Correcta.html"
                >PWM Timer1 Modo Fase Correcta</a
              >
              <a class="before" href="Timer1-Modo-Rapido.html"
                >PWM Timer1 Modo Rapido</a
              >
            </div>

            <a class="tema3 tema" href="#"
              >Tema 4: Conversi√≥n Digital/Anal√≥gica - Anal√≥gica/Digital</a
            >

            <div class="subContent" style="margin-left: 5%">
              <a class="before" href="Convertidor-ADC.html">Convertidor ADC</a>
            </div>

            <a class="tema4 tema" href="#">Tema 5: Comunicaci√≥n serial </a>

            <div class="subContent" style="margin-left: 5%">
              <a class="before" href="USART.html">Comunicaci√≥n Serial USART</a>
            </div>
          </div>
        </div>
        <div class="dropdow">
          <li class="dropbt" onclick="myFunction2()">Laboratorio</li>

          <div class="dropdow-content device2">
            <!---->
            <a class="tema5 tema" href="#">Primeros pasos</a>
            <div class="subContent" style="margin-left: 5%">
              <a class="before" href="Instalacion-de-Proteus-8.5.html"
                >Instalaci√≥n de proteus 8.5</a
              >
              <a class="before" href="como-agregar-librerias-a-proteus-8.5.html"
                >Como agregar librerias adicionales en Proteus 8.5</a
              >
              <a class="before" href="Descripcion-y-manejo.html"
                >Descripcion y manejo de las librerias</a
              >
              <a class="before" href="Descripcion-y-manejo.html"
                >IDE software Arduino</a
              >
              <a class="before" href="IDE-AVR-Studio-7.html"
                >IDE AVR Studio 7</a
              >
              <a style="padding-right: 0;" class="before" href="Programar-Arduino-AVRStudio.html"
                >Programar el Arduino con AVR Studio 7</a
              >
              <a
                class="before"
                href="introduccion-al-lenguaje-de-programacion-en-C.html"
                >Introduccion al lenguaje de programacion en C</a
              >
              <a class="before" href="manejo-del-display-7seg.html"
                >Manejo del display 7 Segmentos</a
              >
              <a class="before" href="Manejo-de-la-pantalla-LCD.html"
                >Manejo de la pantalla LCD</a
              >
            </div>

            <a href="practica1.html">Pr√°ctica 1</a>
            <a href="practica2.html">Pr√°ctica 2</a>
            <a href="practica3.html">Pr√°ctica 3</a>
            <a href="practica4.html">Pr√°ctica 4</a>
            <a href="practica5.html">Pr√°ctica 5</a>

            <!---->
          </div>
        </div>
        <div class="dropdow">
          <li class="dropbt" onclick="myFunction3()">Descargas</li>
          <div class="dropdow-content device3">
            <a
              href="https://mega.nz/folder/PJBnTSaB#Sb-LwH7cwkHzQJKevcpG1g"
              target="_blank"
              >Descargar archivos en pdf</a
            >
            <a
              href="https://mega.nz/folder/fE5AAQhY#IVL100RFiLY0-649gnbLAw"
              target="_blank"
              >Practicas del Laboratorio</a
            >
          </div>
        </div>
      </ul>
    </div>

    <!-- sidenav content -->
    <div class="sidenav2">
      <label
        ><a href="#" style="color: black"
          >PWM Timer1 Modo R√°pido
          </a
        ></label
      >

      <ul>
        <li class="afterICon">
          <a class="icon icon-solid icon-arrow-down ai0">PWM Timer 1</a>
        </li>
        <ul>
          <li><a href="#PWM-timer1">PWM Modo: Rapido</a></li>
          <li>
            <a href="#frecuencia-periodo"
              >Frecuencia y periodo de la se√±al PWM</a
            >
          </li>
        </ul>

        <li class="afterICon">
          <a class="icon icon-solid icon-arrow-down ai1"
            >Obtener la se√±al PWM</a
          >
        </li>
        <ul>
          <li><a href="#obtenerSe√±alPWM">Obtenci√≥n de la se√±al</a></li>
          <li>
            <a href="#se√±alNoInvertida">Se√±al no invertida</a>
          </li>
          <li><a href="#se√±alInvertida">Se√±al Invertida</a></li>
          <li><a href="#anchoDePulso">Ancho de pulso</a></li>
        </ul>

        <li class="afterICon">
          <a class="icon icon-solid icon-arrow-down ai2"
            >Configuraci√≥n de registros</a
          >
        </li>
        <ul>
          <li><a href="#TCCR1A">Registro¬†TCCR1A</a></li>
          <li>
            <a href="#TCCR1B">Registro¬†TCCR1B</a>
          </li>
          <li><a href="#Resolucion">Registro TCCR1A y TCCR1B: Resoluci√≥n</a></li>
          <li><a href="#OCR1A-OCR1B">Registro¬†OCR1A y Registro OCR1B</a></li>
        </ul>

        <li class="afterICon">
          <a class="icon icon-solid icon-arrow-down ai3">Ejemplo 1</a>
        </li>
        <ul>
          <li><a href="#ejemplo1-anchoDePulsoFijo">Ancho de pulso fijo</a></li>
          <li>
            <a href="#OCR1B">Frecuencia y registro OCR1B</a>
          </li>
          <li>
            <a href="#TCCR1A-TCCR1B"
              >Configuraci√≥n del registro TCCR1A y TCCR1B</a
            >
          </li>
          <li><a href="#codigoEnC">C√≥digo en C y simulaci√≥n en Proteus</a></li>
        </ul>

        <li class="afterICon">
          <a class="icon icon-solid icon-arrow-down ai4">Ejemplo 2</a>
        </li>
        <ul>
          <li><a href="#ejemplo2-anchoDePulsoVariable">Ancho de pulso variable</a></li>
          <li>
            <a href="#OCR1A2">Frecuencia y registro OCR1A</a>
          </li>
          <li>
            <a href="#TCCR1A2-TCCR1B2"
              >Configuraci√≥n del registro TCCR1A y TCCR1B</a
            >
          </li>
          <li><a href="#codigoEnC-2">C√≥digo en C y simulaci√≥n en Proteus</a></li>
        </ul>

        <li class="afterICon">
          <a class="icon icon-solid icon-arrow-down ai5">Ejemplo 3</a>
        </li>
        <ul>
          <li><a href="#ejemplo3-manipulacion">Manipulaci√≥n del ancho de pulso</a></li>
          <li><a href="#codigoEnC-3">C√≥digo en C y simulaci√≥n en Proteus</a></li>
        </ul>
      </ul>
    </div>

    <!-- content -->
    <div class="content">
      <!--title content -->
      <div class="h1-content  container" style="align-items: center;">
        <!-- Columna 1 -->
         <div class="col your-item2 desktopCol" style="width: 30%;">
           <img
                 src="../Imagenes/Facultad-de-ingenieria.png"
                 class="logo-footer"
                 style="display: block; margin: 15px auto; width: 85%;"
               />
               
         </div>
          <!-- Col 1 in Devices -->
         <div class="col deviceCol">
           <div class="container" style="flex-direction: row !important;">
             <div class="col your-item2">
               <img
                 src="../Imagenes/Facultad-de-ingenieria.png"
                 class="logo-footer"
                 style="display: block; margin: 15px auto; width: 70%;"
               />
             </div>
             <div class="col">
               <img
                 src="../Imagenes/ING_ELECT.jpg"
                 class="logo-footer"
                 style="display: block; margin: 15px auto; width: 50%;"
               />
             </div>
           </div>
         </div>
         <!-- Col 2 in Devices -->
         <div class="col deviceCol">
           <div style="font-family: 'Roboto', sans-serif; margin: 10px;">
             <p class="styleFooter" style="font-size: 12px !important;">Universidad de Carabobo</p>
             <p class="styleFooter" style="font-size: 12px !important;">Facultad de Ingenier√≠a</p>
             <p class="styleFooter" style="font-size: 12px !important;">Escuela de Ingenieria El√©ctrica</p>
             <p id="TTO" class="styleFooter" style="font-size: 12px !important;">Dpto. de Sistemas y Autom√°tica</p>
             
         </div>
         </div>
 
 
         <!-- Columna 2 -->
         <div class="col your-item2">
           <div class="desktopCol" style="font-family: 'Roboto', sans-serif; margin: 10px;">
             <p class="styleFooter" style="font-size: 12px !important;">Universidad de Carabobo</p>
             <p class="styleFooter" style="font-size: 12px !important;">Facultad de Ingenier√≠a</p>
             <p class="styleFooter" style="font-size: 12px !important;">Escuela de Ingenieria El√©ctrica</p>
             <p id="TTO" class="styleFooter" style="font-size: 12px !important;">Dpto. de Sistemas y Autom√°tica</p>
             
         </div>
           <div class="page-title">
             <h1 class="titleH7" style="font-size: 2em; margin-top: 15px; padding-top: 0;">
              PWM Timer1 Modo R√°pido
           </h1>
           </div>
           
         </div>
 
         <!-- Columna 3 -->
         <div class="col desktopCol" style="width: 30%;">
           <img
                 src="../Imagenes/ING_ELECT.jpg"
                 class="logo-footer"
                 style="display: block; margin: 15px auto; width: 65%;"
               />
         </div>
         
         
       </div>
      <!--main content -->
      <div class="main-content">
        <!-------------------------------------------------------------------------------------------->
        <h4 class="jump" id="PWM-timer1">PWM Modo: Modo R√°pido</h4>
        <p>
          Como sabemos el temporizador timer1 es de 16 bits, pero en el uso del timer1 
          en la generaci√≥n de se√±ales PWM ofrece 3 opciones: Utilizar 8 bits del timer1, 
          utilizar 9 bits del timer1 o utilizar 10 bits del timer1. A la cantidad de 
          bits que se utilizan se le llama resoluci√≥n, entonces se dice que el m√≥dulo 
          PWM timer1 puede tener una resoluci√≥n de 8bits, 9 bits o de 10 bits; se puede 
          elegir por programa la resoluci√≥n que se desee en la generaci√≥n de la se√±al PWM
        </p>
        <p>
          La modulaci√≥n de ancho de pulso r√°pido o el modo PWM r√°pido (WGM13: 0 = 5, 6, 7, 14 o 15) 
          proporciona una opci√≥n de generaci√≥n de forma de onda PWM de alta frecuencia. 
          El PWM r√°pido se diferencia de las otras opciones de PWM por su funcionamiento 
          de pendiente √∫nica. El contador cuenta desde abajo (Bottom) hasta arriba (Top) y
           luego se reinicia desde abajo (Bottom)
        </p>

        <p>
          El contador (el registro TCNT1) es el temporizador del timer1, es el que ir√° 
          aumentando sus valores desde 0 hasta un valor m√°ximo en el proceso de temporizaci√≥n 
          que depender√° de la resoluci√≥n asignada:
        </p>
        <ul>
            <li>Si la resoluci√≥n es de <span style="color: red;">8 bits</span> entonces el m√°ximo ser√° 255 (<span style="color: red;">TOP</span>) y el 
                registro TCNT1 aumentar√° sus valores desde 0 hasta 255 al ser utilizado en el PWM modo r√°pido.
            </li>
            <li>
                Si la resoluci√≥n es de <span style="color: red;">9 bits</span> entonces el m√°ximo ser√° 
                511(<span style="color: red;">TOP</span>) y 
                el registro TCNT1 aumentar√° sus valores de 0 a 511
            </li>
            <li>
                Si la resoluci√≥n es de <span style="color: red;">10 bits</span>  entonces el m√°ximo ser√° 1023 (<span style="color: red;">TOP</span>) y el 
                registro TCNT1 aumentar√° sus valores de 0 a 1023
            </li>
        </ul>

        <p>
          En el PWM modo r√°pido, el registro TCNT1 ir√° de 0 hasta el m√°ximo (<span style="color: red;">TOP</span>)
          elegido, luego se reiniciar√° a 0 para volver hasta su m√°ximo y luego otra 
          vez de 0 a su m√°ximo y as√≠ continuar√° en el modo r√°pido; a este ir de 0 a 
          su m√°ximo le tomar√° un tiempo que depender√° del pre escalador utilizado 
          para el timer1, y ese tiempo que le tome al registro TCNT1 para ir de 0 a su 
          m√°ximo ser√° el periodo de la se√±al PWM, al registro TCNT1 se lo puede imaginar 
          como si estuviese generando una onda diente de sierra en el transcurso del tiempo
        </p>
        
        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\pwm-timer1-pendiente.png"
          alt="PWM modo rapido Timer1"
          style="width: 65%"
          class="resp1"
        />
        <p style="text-align: center; padding: 10px 0; font-size: 13px">
          <i>Fuente: Elaboraci√≥n propia</i>
        </p>

        <div class="note">
         <ul style="padding: 10px 5px 10px 25px;"> 
          <li>
            Debido a la operaci√≥n de pendiente √∫nica, la frecuencia de operaci√≥n del modo PWM 
            r√°pido puede ser dos veces m√°s alto que los modos PWM fase correcta y de fase y 
            frecuencia correcta que utilizan Operaci√≥n de doble pendiente. Esta alta frecuencia 
            hace que el modo PWM r√°pido sea adecuado para la regulaci√≥n de potencia, rectificaci√≥n 
            y aplicaciones DAC. La alta frecuencia permite componentes externos f√≠sicamente peque√±os 
            (bobinas, condensadores), por lo que reduce el total costo del sistema
          </li>
          <li>
            Una cosa a tener en cuenta es que al pasar el registro TCNT1 de su m√°ximo a 0 es como 
            si se desbordara, por lo cual se puede habilitar el uso de la interrupci√≥n por desborde del  timer1
          </li>
        </ul>
        </div>
        <!-- -------------------------------------------------------------------------------------- -->
        <h3 class="jump" id="frecuencia-periodo" style="margin-top: 2%">
          Frecuancia y periodo de la se√±al PWM
        </h3>

        <p>
          Partiendo de lo estudiado en la secci√≥n del
          <a href="Timer-1.html" style="text-decoration: none">Timer1</a> en
          modo comparador se establece lo siguiente:
        </p>
        <h4>Configuraci√≥n del Pre escalador:</h4>
        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCR1B.png"
          alt="configuracion del pre escalador"
          style="width: 65%"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>
        <p>
          Recordando, la frecuencia de trabajo del MCU (ùêπ<sub>ùê∂ùëÉùëà</sub>) se
          divide por el pre escalador, con lo que se logra que el timer1 tarde
          un poco m√°s en aumentar su valor en una unidad; el pre escalador puede
          tomar el valor de 1, 8, 64, 256 o 1024; estos valores se eligen
          programando los bits 0, 1 y 2 del registro TCCR1B.
        </p>
        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCR1B-table.png"
          alt="configuracion del pre escalador"
          style="width: 55%"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>

        <p>
          Luego, el periodo y la frecuencia de la se√±al PWM vienen dadas por las
          siguientes expresiones:
        </p>

        <img
          class="resp65 respCenter"
          style="width: 30%; display: inline-block; margin-left: 8%"
          src="..\Imagenes\PWM-Timer1-modoRapido\periodo-de-la-se√±al.png"
          alt="Periodo de la se√±al PWM"
        />

        <img
          class="resp65 respCenter"
          style="width: 32%; display: inline-block; margin-left: 15%"
          src="..\Imagenes\PWM-Timer1-modoRapido\frec-de-la-se√±al.png"
          alt="frecuencia de la se√±al PWM"
        />

        <p>
          Si el pre escalador utilizado es, por ejemplo, de 1024 y la ùêπ<sub>ùê∂ùëÉùëà</sub> = 16 ùëÄùêªùëß, con una resoluci√≥n de 10bits (<span style="color: red;">TOP</span> = 1023 el periodo de la se√±al PWM ser√°: 
          ùëá<sub>ùëÉùëäùëÄ</sub> = (1024 ‚àó (1 + 1023))/16ùëÄùêªùëß = 65,536 ùëöùë† por otra parte, la frecuencia de la se√±al PWM ser√° el inverso del periodo, por lo que la frecuencia ser√° igual a:
          ùêπ<sub>ùëÉùëäùëÄ</sub> = 1/ùëá<sub>ùëÉùëäùëÄ</sub> = 1/(65,536 ùëöùë†) ‚âÖ 15,25 ùêªùëß
        </p>
        <!-- -------------------------------------------------------------------------------------- -->
        <h3 class="jump" id="obtenerSe√±alPWM">Obtenci√≥n de la se√±al PWM</h3>
        <p>
          La se√±al PWM se genera partiendo de la configuraci√≥n del 
          timer1 en modo comparaci√≥n o modo CTC, esta se genera cuando 
          el valor del ¬†registro TCNT1, el que se encuentra increment√°ndose 
          de unidad en unidad, se iguala al valor almacenado en el registro 
          OCR1A o en el registro OCR1B (que, seg√∫n la resoluci√≥n utilizada, 
          se determina el valor m√°ximo que se puede utilizar dado por el 
          valor TOP de cada resoluci√≥n),¬†cuando se utiliz√≥ el timer1 en modo 
          comparaci√≥n al ocurrir esta¬†igualdad el registro TCNT1 se reiniciaba 
          a 0, en el modo PWM¬†el registro TCNT1 no se reiniciar√° esta vez tras 
          ocurrir la igualdad, sino que, seguir√° incrementado sus valores hasta 
          llegar a su m√°ximo valor (TOP seg√∫n la resoluci√≥n utilizada), momento 
          en el cual se reiniciar√°.
        </p>

        <p>
            La se√±al PWM generada se obtendr√° en cualesquiera de los pines 
            OC1A o OC1B del ATmega328P, dependiendo si para¬†la comparaci√≥n 
            se utiliza el registro¬†OCR1A o el registro OCR1B, a partir de 
            este momento se utilizar√° OC1x para los pines y OCR1x para los 
            registros de comparaci√≥n donde x puede ser A o B
        </p>

        <div class="note">
          <p style="padding: 10px">
            El indicador de desbordamiento del temporizador/contador (TOV1) 
            se activa cada vez que el contador llega a su m√°ximo valor (TOP). 
            Si la interrupci√≥n est√° habilitada, La rutina de interrupci√≥n se 
            puede utilizar para actualizar el valor de comparaci√≥n
          </p>
        </div>
        <!-- -------------------------------------------------------------------------------------- -->
        <h3 style="margin-top: 2%" id="se√±alNoInvertida" class="jump">
          Obtenci√≥n de la se√±al PWM: No invertida
        </h3>

        <p>
          En el modo PWM r√°pido, la unidad de comparaci√≥n permite la generaci√≥n de 
          formas de onda PWM en los pines OC1x. Esta puede ser en forma invertida
           o en forma no invertida, estos pines deben ser declarados como salidas 
           digitales mediante sus registros DDRx respectivos
        </p>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\se√±alNoInvertida.png"
          alt="PWM modo rapido Timer1: se√±al no invertida"
          style="width: 60%"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Elaboraci√≥n propia</i>
        </p>

        <p>
          Para la forma no invertida por el pin OC1x se obtendr√° un alto mientras el valor 
          del registro TCNT1 sea menor al valor almacenado en el registro OCR1x, al ocurrir 
          la igualdad entre los registros TCNT1 y OCR1x el estado del pin OC1x cambiar√° a un 
          bajo y se mantendr√° as√≠ hasta que el registro TCNT1 llegue a su m√°ximo y vuelva 0,
           momento en el cual el estado del pin OC1x cambiar√° nuevamente a un alto 
           (dado que en este momento el valor del registro TCNT1 pasar√° a ser menor 
           que el valor del registro OCR1x) y el ciclo se repetir√°.
        </p>
        <!-- -------------------------------------------------------------------------------------- -->
        <h3 style="margin-top: 2%" id="se√±alInvertida" class="jump">
          Obtenci√≥n de la se√±al PWM: Invertida
        </h3>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\se√±alInvertida.png"
          alt="PWM modo rapido Timer1: se√±al invertida"
          style="width: 60%"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Elaboraci√≥n propia</i>
        </p>
        <p>
          Para la forma invertida por el pin OC1x se obtendr√° un bajo mientras el valor 
          del registro TCNT1 sea menor al valor almacenado en el registro OCR1x, al 
          ocurrir la igualdad entre los registros TCNT1 y OCR1x el estado del pin OC1x 
          cambiar√° a un alto y se mantendr√° as√≠ hasta que el registro TCNT1 llegue a su m√°ximo 
          y vuelva a 0, momento en el cual el estado del pin OC1x cambiar√° nuevamente a 
          un bajo y el ciclo se repetir√°
        </p>

        <!-- -------------------------------------------------------------------------------------- -->
        <h3 style="margin-top: 2%" id="anchoDePulso" class="jump">
          Obtenci√≥n de la se√±al PWM: Modificaci√≥n del ancho de pulso
        </h3>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\anchoDePulso.png"
          alt="PWM modo rapido Timer1: se√±al invertida"
          style="width: 65%"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Elaboraci√≥n propia</i>
        </p>

        <p>
          Para modificar el ancho de pulso de la se√±al PWM solo hay que modificar el valor 
          almacenado en el registro OCR1x, con esto se logra que los cambios 
          de estado del pin OC1x sean en diferentes tiempos, por ejemplo  si se 
          toma como referencia la imagen anterior para el nivel del registro OCR1x, 
          cambiando su nivel se obtendr√° la se√±al PWM con un ancho de pulso modificado 
          <span style="color: red;">manteniendo constante su periodo</span>.
        </p>

        <!-- -------------------------------------------------------------------------------------- -->
        <h3 style="margin-top: 2%">Configuraci√≥n de registros</h3>

        <p>
          Para programar el m√≥dulo PWM modo r√°pido con el timer0, se utilizan 2
          registros los que son: El registro TCCR1A y el registro TCCR1B
        </p>

        <!-- -------------------------------------------------------------------------------------- -->
        <h4 style="margin-top: 2%" id="TCCR1A" class="jump">Registro TCCR1A</h4>
        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCR1A.png"
          alt="configuracion del registro TCCR1A"
          style="width: 65%; padding: 15px 0"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>

        <p>
            Los bits 7 y 6 (Para el pin OC1A) y los bits 5 y 4 
            (Para el pin OC1B) son para elegir que la obtenci√≥n de 
            la se√±al PWM ser√° por el pin OC1A/OC1B y si ser√° en forma 
            no invertida o en forma invertida, mediante las combinaciones 
            de estos bits seg√∫n se indica en la siguiente tabla
        </p>
        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCR1A-table.png"
          alt="configuracion del registro TCCR1A"
          style="width: 65%"
          class="resp1"
        />
        <p style="text-align: center; padding: 10px 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>

        <div class="note">
          <p style="padding: 10px">
            Si las combinaciones de estos bits son 10 la se√±al PWM obtenida 
            por el pin OC1A/OC1B ser√° no invertida, si las combinaciones de 
            estos bits son 11 la se√±al PWM obtenida por el pin OC1A/OC1B ser√° invertida
          </p>
        </div>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCR1A-2.png"
          alt="configuracion del registro TCCR1A"
          style="width: 65%; padding: 15px 0"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>
        <p>
            Los bits 1 y 0 junto con los bits 4 y 3 del registro 
            TCCR1B son con los cuales se elige el modo de obtener 
            las se√±ales PWM, mediante las combinaciones de estos 
            bits se elige la resoluci√≥n a utilizar para el m√≥dulo 
            PWM, seg√∫n se indica en la siguiente tabla:
        </p>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCR1A-table2.png"
          alt="configuracion del registro TCCR1A"
          style="width: 65%"
          class="resp1"
        />
        <p style="text-align: center; padding: 10px 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>

        <!-- -------------------------------------------------------------------------------------- -->
        <h4 style="margin-top: 2%" id="TCCR1B" class="jump">Registro TCCR1B</h4>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCR1B2.png"
          alt="configuracion del TCCR1B"
          style="width: 65%"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>

        <p>
            Los bits 7, 6, y 5 no se utilizar√°n en la obtenci√≥n de la se√±al PWM por lo que se colocaran a cero
        </p>
        <p>
            El bit4 y el bit3 trabajan junto con los bits 1 y 0 del registro TCCR1A tal como se coment√≥ anteriormente
        </p>
        <p>
            Los bits 2, 1 y 0 son para elegir el pre escalador a utilizar para obtener 
            la frecuencia de la se√±al PWM, las combinaciones de estos bits para los diversos 
            pre escaladores del timer1 son los que se indicaron anteriormente 
            (<a
            style="text-decoration: none"
            href="#frecuencia-periodo"
            >configuraci√≥n del pre escalador</a
          >)
        </p>

        <!-- -------------------------------------------------------------------------------------- -->
        <h4 style="margin-top: 2%" id="Resolucion" class="jump">
            Registro TCCR1A y TCCR1B: Resoluci√≥n
        </h4>

        <p>
            Las combinaci√≥n de estos bits que se utilizaran para la generaci√≥n de la 
            se√±al PWM modo R√°pido ser√°n la quinta, la sexta y la s√©ptima, 
            las que est√°n resaltadas en la figura:
        </p>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\TCCRx-table.png"
          alt="configuracion del registro TCCRx: Resolucion"
          style="width: 65%"
          class="resp1"
        />
        <p style="text-align: center; padding: 10px 0; font-size: 13px">
          <i>Fuente: Microcontrollers ATmega328P Datasheet</i>
        </p>

        <p>
            dependiendo de la resoluci√≥n que se quiera utilizar se establece lo siguiente:
        </p>

        <ul>
            <li>
              <span style="color: red;">Para una resoluci√≥n de 8 bits</span>, del registro TCCR1B su bit4 se 
              pondr√° a 0 y su bit3 se pondr√° a 1, del registro TCCR1A su bit1
               se pondr√° a 0 y su bit0 se pondr√° a 1, <span style="color: red;">la combinaci√≥n ser√° 0101</span>
            </li>
            <li>
              <span style="color: blue;">Para una resoluci√≥n de 9 bits</span>, del registro TCCR1B su bit4 se pondr√° a 
              0 y su bit3 se pondr√° a 1, del registro TCCR1A su bit1 se pondr√° a 1 
              y su bit0 se pondr√° a 0, <span style="color: blue;">la combinaci√≥n ser√° 0110</span>
            </li>
            <li>
              <span style="color: green;">Para una resoluci√≥n de 10 bits</span>, del registro TCCR1B su 
              bit4 se pondr√° a 0 y su bit3 se pondr√° a 1, del registro 
              TCCR1A su bit1 se pondr√° a 1 y su bit0 se pondr√° a 1, 
              <span style="color: green;">la combinaci√≥n ser√° 0111</span>
            </li>
        </ul>


        <!-- -------------------------------------------------------------------------------------- -->
        
        <h4 style="margin-top: 2%" id="OCR1A-OCR1B" class="jump">
          Registro OCR1A/OCR1B
        </h4>

        <p>
          En este registro se cargar√° el valor mediante el cual se controlar√° 
          el ancho de pulso de la se√±al PWM que se obtendr√° por el pin OC1x, 
          este valor va desde 0 hasta el valor m√°ximo dado por la resoluci√≥n 
          utilizada, cuando el valor sea igual a 0 el ancho  de pulso ser√° 0 
          o del 0%, cuando llegue a su m√°ximo valor el ancho de pulso ser√° 
          igual al periodo o del 100% de la se√±al PWM, y entre ese intervalo 
          se obtienen los diferentes anchos de pulso de la se√±al PWM
        </p>

        <p>
          Se puede utilizar la siguiente forma para el ciclo de trabajo de la se√±al PWM en modo r√°pido:
        </p>
        <img
          class="resp1 respCenter"
          style="width: 35%; margin: 0 auto"
          src="..\Imagenes\PWM-Timer1-modoRapido\ciclo-de-trabajo.png"
          alt="ciclo de trabajo de la se√±al pwm"
        />
        <p>
          Donde el OCR1x puede representar el registro OCR1A o el registro OCR1B
          seg√∫n el caso de trabajo
        </p>
        <p>
          Por ejemplo, si se quiere un ciclo de trabajo del 25% utilizando una 
          resoluci√≥n de 9bits, se puede proceder de la siguiente manera:
        </p>
        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\OCR1x.png"
          alt="configuracion del registro OCR1x"
          style="width: 80%"
          class="resp1"
        />

        <div class="note" style="margin: 2% 0">
          <p style="padding: 10px">
            Esto indica que si se quiere un ciclo de trabajo del 25% de la se√±al 
            PWM en el registro OCR1x se tendr√° que cargar el valor de 128
          </p>
        </div>

        <!-- -------------------------------------------------------------------------------------- -->
         <!-- -------------------------------------------------------------------------------------- -->
         <h3 class="jump" id="ejemplo1-anchoDePulsoFijo">
          Ejemplo 1: Ancho de pulso fijo
        </h3>

        <div
          class="flexProt"
          style="display: flex; flex-direction: row; align-items: center"
        >
          <div class="flexProtWidth" style="width: 60%">
            <p>
              En este ejemplo se generar√° una se√±al PWM con un ancho de pulso
              del 25% por el pin OC0B en forma no invertida. Se utilizar√° el
              ATmega328P el cual estar√° trabajando a una frecuencia de 16Mhz.
            </p>
            <p>
              Se puede escoger la frecuencia de la se√±al PWM ùêπ<sub>ùëÉùëäùëÄ</sub>,
              con la ecuaci√≥n que se vio en la que la ùêπ<sub>ùëÉùëäùëÄ</sub> depende de
              la ùêπ<sub>CùëÉùëà</sub> y del pre escalador a utilizar para el registro
              TCNT0, el cual se puede elegir entre 1, 8, 64, 256 y 1024, seg√∫n
              la tabla vista para el registro TCCR1B
            </p>
          </div>
          <div>
            <img
              src="..\Imagenes\PWM-Timer1-modoRapido\anchoDePulsoFijo.png"
              alt="configuracion a modo ancho de pulso fijo"
              style="width: 80%"
              class="resp1"
            />
            <p style="text-align: center; padding: 0; font-size: 13px">
              <i>Fuente: Elaboraci√≥n propia</i>
            </p>
          </div>
        </div>

        <!-- -------------------------------------------------------------------------------------- -->
        <h4 class="jump" style="margin-top: 2%" id="OCR1B">
          Frecuencia y Registro OCR1B
        </h4>
        <p>
          Si por ejemplo se elige el pre escalador de 256, entonces se tendr√°:
        </p>

        <img
          class="resp1 respCenter"
          style="width: 50%; margin: 0 auto"
          src="..\Imagenes\PWM-Timer1-modoRapido\frec-de-la-se√±al-de-trabajo.png"
          alt="frecuencia de la se√±al PWM"
        />
        <p>
          En este ejemplo lo que se busca es que el ancho de pulso de la se√±al
          PWM sea del 25% de momento da igual la frecuencia ùêπ<sub>ùëÉùëäùëÄ</sub>, se
          puede elegir otra si as√≠ se desea
        </p>
        <p>
          <b>Se¬†quiere una se√±al PWM por el pin OC1B</b> con un ciclo de trabajo
          del 25%,¬†entonces habr√° que cargar el registro OCR1B con lo que se
          obtenga de la ecuaci√≥n del ciclo de trabajo (como se demostr√≥
          anteriormente) por lo tanto el valor del registro ser√°:
        </p>
        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\OCR1B.png"
          alt="configuracion del registro OCR1B"
          style="width: 80%"
          class="resp1"
        />

        <!-- -------------------------------------------------------------------------------------- -->
        <h4 class="jump" style="margin-top: 2%" id="TCCR1A-TCCR1B">
          Configuraci√≥n del registro TCCR1A y TCCR1B
        </h4>

        <h5>
          <b><i>Registro TCCR1A</i></b>
        </h5>
        <p>
          Como se obtendr√° la se√±al PWM por el pin OC1B su bit5 se pondr√° a 1 y su bit4 se pondr√° 
          a 0, su bit1 se pondr√° a 1 y su bit0 se pondr√°n a 0 ya que se utilizar√° 
          el modo PWM r√°pido con una resoluci√≥n de 9 bits, sus dem√°s bits se pondr√°n 
          a 0 ya que no se usar√°n
        </p>

        <div class="code_panel">
          <code>
            <span class="variables">TCCR1A </span>
            <span class="originalAVR"> = 0b00100010; </span>
            <span class="code_comment"
              >//PWM por el pin OC1B, PWM modo r√°pido de 9 bits</span
            >
          </code>
        </div>

        <h5 style="margin-top: 3%">
          <b><i>Registro TCCR1B</i></b>
        </h5>
        <p>
          Su bit4 se pondr√° a 0 y su bit3 a 1 para utilizar el modo PWM 
          r√°pido con una resoluci√≥n de 9 bits, y como se usar√° un pre 
          escalador de 256 la combinaci√≥n de sus bits 2, 1 y 0 ser√° 100, 
          todos sus dem√°s bits se pondr√°n a 0 ya que no se usar√°n
        </p>

        <div class="code_panel">
          <code>
            <span class="variables">TCCR1B </span>
            <span class="originalAVR"> = 0b00001100; </span>
            <span class="code_comment"
              >//PWM modo r√°pido de 9bits, prescaler de 256</span
            >
          </code>
        </div>
        <!-- -------------------------------------------------------------------------------------- -->
        <h4 class="jump" style="margin-top: 2%" id="codigoEnC">
          C√≥digo en C y simulaci√≥n en Proteus
        </h4>

        <div class="code_panel">
          <div id="button1" onclick="CopyToClipboard('code_panel1')"><i class="far fa-copy"></i> copiar c√≥digo</div>
          <code id="code_panel1">
            <span class="define_include">#define</span> <span class="variables">F_CPU</span> <span class="originalAVR">16000000UL</span> <span class="code_comment">// Frecuencia de trabajo del microcontrolador</span></br>
            <span class="define_include">#include</span> <span class="originalAVR">&lt;avr/io.h&gt;</span></br><br>

            <span class="define_include">int</span> <span class="functionsDeclarations">main</span><span class="originalAVR">(</span><span class="define_include">void</span><span class="originalAVR">)</span> <span class="originalAVR">{</span></br>
            <span style="margin-left: 1.5vw;"><span class="variables">DDRB</span> <span class="originalAVR">= (1 &lt;&lt; 2);</span></span> <span class="code_comment">// bit OC1B como salida</span></br>
            <span style="margin-left: 1.5vw;" class="variables">TCCR1A</span> <span class="originalAVR"> = 0b00100010;</span> <span class="code_comment">//PWM por el pin OC1B, PWM modo r√°pido de 9 bits</span></br>
            <span style="margin-left: 1.5vw;" class="variables">TCCR1B</span> <span class="originalAVR"> = 0b00001100;</span> <span class="code_comment">//PWM modo r√°pido, prescaler de 256</span></br>
            <span style="margin-left: 1.5vw;" class="variables">OCR1B</span> <span class="originalAVR"> = 128;</span></br>          
            <span class="define_include" style="margin-left: 1.5vw;">while</span> <span class="originalAVR">(1) {}</span></br>
            <span class="originalAVR">}</span></br>
          </code>
        </div>

        <h5 style="margin-top: 3%;"><b>Simulando en Proteus:</b></h5>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\ciclo25.png"
          alt="PWM modo rapido ciclo al 15%"
          style="width: 60%; margin-top: 3% ;"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Elaboraci√≥n propia</i>
        </p>

        <div class="note" style="margin-top: 3%;">
          <p style="padding: 10px;">
           <b>¬øSe puede verificar, con la grafica mostrada en el osciloscopio, que el ciclo de trabajo es del 25%? ¬øC√≥mo?</b>
          </p>
        </div>

        
        <!-- -------------------------------------------------------------------------------------- -->
        <h3 class="jump" id="ejemplo2-anchoDePulsoVariable" style="margin-top: 3%;">
          Ejemplo 2: Ancho de pulso variable
        </h3>

        <div
          class="flexProt"
          style="display: flex; flex-direction: row; align-items: center"
        >
          <div class="flexProtWidth" style="width: 60%">
            <p>
              En este ejemplo se generar√° una se√±al PWM con un ancho de 
              pulso variable desde el 0% hasta el 100% por el pin OC1A 
              en forma no invertida. Se utilizar√° el ATmega328P el cual 
              estar√° trabajando a una frecuencia de 16Mhz
            </p>
          </div>
          <div>
            <img
              src="..\Imagenes\PWM-Timer1-modoRapido\anchoDePulsoVariable.png"
              alt="configuracion a modo ancho de pulso variable"
              style="width: 80%"
              class="resp1"
            />
            <p style="text-align: center; padding: 0; font-size: 13px">
              <i>Fuente: Elaboraci√≥n propia</i>
            </p>
          </div>
        </div>
        <!-- -------------------------------------------------------------------------------------- -->
        <h4 class="jump" style="margin-top: 2%" id="OCR1A2">
          Frecuencia y Registro OCR1A
        </h4>

        <p>Procediendo de la misma manera que en el ejemplo 1, se tiene una frecuencia igual a:</p>
        <img
          class="resp1 respCenter"
          style="width: 55%; margin: 0 auto"
          src="..\Imagenes\PWM-Timer1-modoRapido\frec-de-la-se√±al-de-trabajo.png"
          alt="frecuencia de la se√±al PWM"
        />
        <p>
          Se iniciar√° el ancho de pulso a un 0% por lo que el registro OCR1A se cargar√° 
          en un inicio con 0, luego dentro del ciclo del programa se har√° que se 
          incremente en una unidad cada 200 ms
        </p>
        <div class="code_panel">
          <code>
            <span class="variables">OCR1A </span>
            <span class="originalAVR"> = 0; </span>
            <span class="code_comment"
              >//Ancho de pulso inicial de 0</span
            >
          </code>
        </div>

        <p>
          El registro OCR1A ir√°, por lo tanto, desde 0 para el 0% hasta el 
          valor m√°ximo (511 al ser en este caso de 9bits) para el 100% del 
          ancho de pulso, momento en que el ancho de pulso se iguala al periodo 
          de la se√±al PWM; cuando el registro OCR1A llega 511 se reinicia 
          autom√°ticamente a 0, volviendo nuevamente a incrementarse en 1 unidad 
          dentro del ciclo del programa cada 200ms y as√≠ continuar√°, en este 
          ejemplo, lo que interesa es ver como se logra la variaci√≥n del ancho 
          de pulso de una se√±al PWM en modo r√°pido
        </p>
        <!-- -------------------------------------------------------------------------------------- -->
        <h4 class="jump" style="margin-top: 2%" id="TCCR1A2-TCCR1B2">
          Configuraci√≥n del registro TCCR1A y TCCR1B
        </h4>

        <h5>
          <b><i>Registro TCCR1A</i></b>
        </h5>
        <p>
          Como se obtendr√° la se√±al PWM por el pin OC1A su bit7 se pondr√° a 1 
          y su bit6 se pondr√° a 0, su bit1 se pondr√° a 1 y su bit0 a 0 ya que 
          se utilizar√° el modo PWM r√°pido con una resoluci√≥n de 9 bits, sus 
          dem√°s bits se pondr√°n a 0 ya que no se usar√°n
        </p>
        
        <div class="code_panel">
          <code>
            <span class="variables">TCCR1A </span>
            <span class="originalAVR"> = 0b10000010; </span>
            <span class="code_comment"
              >//PWM por el pin OC1A, no invertido, PWM modo r√°pido de 9 bits</span
            >
          </code>
        </div>

        <h5 style="margin-top: 3%">
          <b><i>Registro TCCR1B</i></b>
        </h5>
        <p>
          Su bit4 se pondr√° a 0 y su bit3 a 1 para utilizar el modo PWM r√°pido 
          con una resoluci√≥n de 9 bits, y como se usar√° un pre escalador de 256 
          la combinaci√≥n de sus bits 2, 1 y 0 ser√° 100, todos sus dem√°s bits se 
          pondr√°n a 0 ya que no se usar√°n
        </p>

        <div class="code_panel">
          <code>
            <span class="variables">TCCR1B </span>
            <span class="originalAVR"> = 0b00001011; </span>
            <span class="code_comment"
              >//PWM modo r√°pido de 9 bits, prescaler de 256</span
            >
          </code>
        </div>
        <!-- -------------------------------------------------------------------------------------- -->
        <h4 class="jump" style="margin-top: 2%" id="codigoEnC-2">
          C√≥digo en C y simulaci√≥n en Proteus
        </h4>

        <div class="code_panel">
          <div id="button1" onclick="CopyToClipboard('code_panel2')"><i class="far fa-copy"></i> copiar c√≥digo</div>
          <code id="code_panel2">
            <span class="define_include">#define</span> <span class="variables">F_CPU</span> <span class="originalAVR">16000000UL</span> <span class="code_comment">// Frecuencia de trabajo del microcontrolador</span></br>
            <span class="define_include">#include</span> <span class="originalAVR">&lt;avr/io.h&gt;</span></br>
            <span class="define_include">#include</span> <span class="originalAVR">&lt;util/delay.h&gt;</span></br><br>

            <span class="define_include">int</span> <span class="functionsDeclarations">main</span><span class="originalAVR">(</span><span class="define_include">void</span><span class="originalAVR">)</span> <span class="originalAVR">{</span></br>
            <span style="margin-left: 1.5vw;"><span class="variables">DDRB</span> <span class="originalAVR">= (1 &lt;&lt; 1);</span></span> <span class="code_comment">// bit OC1A como salida</span></br>
            <span style="margin-left: 1.5vw;" class="variables">TCCR1A</span> <span class="originalAVR"> = 0b10000010;</span> <span class="code_comment">//PWM por el pin OC0A, no invertido, PWM modo r√°pido</span></br>
            <span style="margin-left: 1.5vw;" class="variables">TCCR1B</span> <span class="originalAVR"> = 0b00001011;</span> <span class="code_comment">//PWM modo r√°pido de 9 bits, prescaler de 256</span></br>
            <span style="margin-left: 1.5vw;" class="variables">OCR1A</span> <span class="originalAVR"> = 0;</span> <span class="code_comment">//inicio del conteo</span></br></br>          
            
            <span class="define_include" style="margin-left: 1.5vw;">while</span> <span class="originalAVR">(1) {</span></br>
            <span class="define_include" style="margin-left: 2.5vw;">OCR1A</span> <span class="originalAVR"> += 1;</span> <span class="code_comment">//el ancho de pulso se incrementa en una unidad cada 100 ms</span></br>
            <span style="margin-left: 2.5vw;"><span class="functionsDeclarations">_delay_ms</span><span class="originalAVR">(20);</span></span>  </br>
            <span style="margin-left: 2.5vw;"><span class="define_include">if</span><span class="originalAVR"> (<span class="variables">OCR1A</span> >= 511) <span class="variables">OCR1A</span> = 0;</span></span>  </br>
            <span class="originalAVR" style="margin-left: 1.5vw;">}</span></br>
            <span class="originalAVR">}</span></br>
          </code>
        </div>

        

        <h5 style="margin-top: 3%;"><b>Simulando en Proteus:</b></h5>

        <img
          src="..\Imagenes\PWM-Timer1-modoRapido\ancho-de-pulso-variable.png"
          alt="PWM ancho de pulso variable"
          style="width: 60%; margin-top: 3% ;"
          class="resp1"
        />
        <p style="text-align: center; padding: 0; font-size: 13px">
          <i>Fuente: Elaboraci√≥n propia</i>
        </p>
        <!-- -------------------------------------------------------------------------------------- -->
        <h3 class="jump" id="ejemplo3-manipulacion" style="margin-top: 3%;">
          Ejemplo 3: Manipulaci√≥n del ancho de pulso
        </h3>

        <div
          class="flexProt"
          style="display: flex; flex-direction: row; align-items: center"
        >
          <div class="flexProtWidth" style="width: 60%">
            <p>
              En este ejemplo se generar√° una se√±al PWM con un ancho de pulso variable desde el 0% 
              hasta el 100% por el pin OC1A en forma no invertida en pasos de 25%, con una 
              resoluci√≥n de 10 bits, esta vez se utilizar√° un pulsador conectado al pin PB5 
              para incrementar el valor del ancho de pulso y un pulsador conectado al pin PB4 
              para disminuirlo
            </p>
          </div>
          <div>
            <img
              src="..\Imagenes\PWM-Timer1-modoRapido\anchoDePulsoManipulado.png"
              alt="configuracion a modo ancho de pulso manipulado"
              style="width: 80%"
              class="resp1"
            />
            <p style="text-align: center; padding: 0; font-size: 13px">
              <i>Fuente: Elaboraci√≥n propia</i>
            </p>
          </div>
        </div>
<!-- -------------------------------------------------------------------------------------- -->
        <h4 class="jump" style="margin-top: 2%" id="codigoEnC-3">
          C√≥digo en C y simulaci√≥n en Proteus
        </h4>

        <div class="code_panel">
          <div id="button1" onclick="CopyToClipboard('code_panel3')"><i class="far fa-copy"></i> copiar c√≥digo</div>
          <code id="code_panel3">
            <span class="define_include">#define</span> <span class="variables">F_CPU</span> <span class="originalAVR">16000000UL</span> <span class="code_comment">// Frecuencia de trabajo del microcontrolador</span></br>
            <span class="define_include">#include</span> <span class="originalAVR">&lt;avr/io.h&gt;</span></br>
            <span class="define_include">#include</span> <span class="originalAVR">&lt;util/delay.h&gt;</span></br><br>

            <span class="define_include">int</span> <span class="functionsDeclarations">main</span><span class="originalAVR">(</span><span class="define_include">void</span><span class="originalAVR">)</span> <span class="originalAVR">{</span></br>
            <span style="margin-left: 1.5vw;"><span class="variables">DDRB</span> <span class="originalAVR">&=~ (1 &lt;&lt; 5) | (1 &lt;&lt; 4);</span></span> <span class="code_comment">//PB5 y PB4 como entradas</span></br>
            <span style="margin-left: 1.5vw;"><span class="variables">DDRB</span> <span class="originalAVR">= (1 &lt;&lt; 1);</span></span> <span class="code_comment">// bit OC1A como salida</span></br>
            <span style="margin-left: 1.5vw;" class="variables">TCCR1A</span> <span class="originalAVR"> = 0b10000011;</span> <span class="code_comment">//PWM por el pin OC1A, no invertido, PWM modo r√°pido de 10 bits</span></br>
            <span style="margin-left: 1.5vw;" class="variables">TCCR1B</span> <span class="originalAVR"> = 0b00001100;</span> <span class="code_comment">//PWM modo r√°pido de 10 bits, prescaler de 256</span></br>
            <span style="margin-left: 1.5vw;" class="variables">OCR1A</span> <span class="originalAVR"> = 0;</span> <span class="code_comment">//inicio del conteo</span></br></br>          
            
            <span class="define_include" style="margin-left: 1.5vw;">while</span> <span class="originalAVR">(1) {</span></br>
              <span class="define_include" style="margin-left: 2.5vw;">if</span> <span class="originalAVR">(!(</span><span class="define_include">PINB</span> <span class="originalAVR">& (1 &lt;&lt;</span> <span class="define_include">PORTB5</span><span class="originalAVR">))){</span> <span class="code_comment">//si se presiona el pulsador</span><br>
                <span style="margin-left: 3.5vw;"><span class="functionsDeclarations">_delay_ms</span><span class="originalAVR">(150);</span></span> <span class="code_comment">// retardo antirebote</span> </br>
                <span class="define_include" style="margin-left: 3.5vw;">OCR1A</span> <span class="originalAVR"> += 256;</span> <span class="code_comment">//el ancho de pulso se incrementa un 25%</span></br>
                <span style="margin-left: 3.5vw;"><span class="functionsDeclarations">_delay_ms</span><span class="originalAVR">(100);</span></span>  </br>
            <span class="originalAVR" style="margin-left: 2.5vw;">}</span></br>

            <span class="define_include" style="margin-left: 2.5vw;">if</span> <span class="originalAVR">(!(</span><span class="define_include">PINB</span> <span class="originalAVR">& (1 &lt;&lt;</span> <span class="define_include">PORTB4</span><span class="originalAVR">))){</span> <span class="code_comment">//si se presiona el pulsador</span><br>
            <span style="margin-left: 3.5vw;"><span class="functionsDeclarations">_delay_ms</span><span class="originalAVR">(150);</span></span> <span class="code_comment">// retardo antirebote</span> </br>
            <span class="define_include" style="margin-left: 3.5vw;">OCR1A</span> <span class="originalAVR"> -= 256;</span> <span class="code_comment">//el ancho de pulso se decrementa un 25%</span></br>
            <span style="margin-left: 3.5vw;"><span class="functionsDeclarations">_delay_ms</span><span class="originalAVR">(100);</span></span>  </br>
            <span class="originalAVR" style="margin-left: 2.5vw;">}</span></br>

            <span style="margin-left: 2.5vw;"><span class="define_include">if</span><span class="originalAVR"> (<span class="variables">OCR1A</span> >= 1023) <span class="variables">OCR1A</span> = 1022;</span></span>  </br>
            <span style="margin-left: 2.5vw;"><span class="define_include">if</span><span class="originalAVR"> (<span class="variables">OCR1AL</span> == 0x00FE) <span class="variables">OCR1A</span> = 0;</span></span>  </br>
            <span class="originalAVR" style="margin-left: 1.5vw;">}</span></br>
            <span class="originalAVR">}</span></br>
          </code>
        </div>
        <h5 style="margin-top: 3%;"><b>Simulando en Proteus:</b></h5>
        <img
              src="..\Imagenes\PWM-Timer1-modoRapido\inc-dec.png"
              alt="ancho de pulso manipulable"
              style="width: 60%"
              class="resp1"
            />
            <p style="text-align: center; padding: 0; font-size: 13px">
              <i>Fuente: Elaboraci√≥n propia</i>
        </p>
        <!-- -------------------------------------------------------------------------------------- -->
        <!-- -------------------------------------------------------------------------------------- -->


        <div
          style="
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(0, 0, 0, 0.125);
            border-radius: 0.25rem;
            margin-top: 20px;
          "
        >
          <div
            class="card"
            style="
              cursor: pointer;
              transition: 0.3s;
              padding: 0.5rem 1rem;
              background-color: rgba(0, 0, 0, 0.03);
              border-bottom: 1px solid rgba(0, 0, 0, 0.125);
            "
          >
            <h2 style="margin: 0">
              <a
                class="ref"
                style="
                  margin: 0;
                  text-decoration: none;
                  color: black;
                  transition: 0.3s;
                "
                >Referencias</a
              >
            </h2>
          </div>
          <div class="collapse" style="transition: height 200ms">
            <div style="flex: 1 1 auto; padding: 1rem 1rem">
              <ol class="list">
                <li>
                  8-bit AVR Microcontroller with 32K Bytes In-System
                  Programmable Flash.
                  <a
                    style="text-decoration: none"
                    href="https://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-7810-Automotive-Microcontrollers-ATmega328P_Datasheet.pdf"
                    >DataSheet</a
                  >.
                </li>
                
              </ol>
            </div>
          </div>
        </div>
        <style>
          .collapse.vis {
            display: block;
            transition: 0.3s;
          }
          .collapse {
            display: none;
            transition: 0.3s ease-in-out;
          }
        </style>
        <!-- -------------------------------------------------------------------------------------- -->
      </div>

      <footer
        class="container-fluid bg-grey"
        style="padding-top: 0px; padding-left: 0"
      >
        <div class="container">
          <!--primera columna-->
          <div class="col">
            <div class="your-item">
              <img
                src="../Imagenes/Facultad-de-ingenieria.png"
                class="logo-footer"
                style="display: block; margin: 15px auto"
              />
              <p class="styleFooter">Universidad de Carabobo</p>
              <p class="styleFooter">Facultad de Ingenier√≠a</p>
              <p class="styleFooter">Escuela de Ingenieria El√©ctrica</p>
              <p id="TTO" class="styleFooter">Dpto. de Sistemas y Autom√°tica</p>
              <p class="styleFooter">¬© 2021</p>
            </div>
          </div>

          <!--segunda columna-->
          <div class="col">
            <h6
              id="brand"
              style="display: block; text-align: center; margin-bottom: 0"
            >
              Microprocesadores
            </h6>
            <h6 style="display: block; text-align: center; margin-bottom: 20px">
              SA7E04
            </h6>
            <p style="display: block; text-align: center">
              Prof: Whendy Garcia.
            </p>
            <a href="mailto: whendygarcia@gmail.com" class="btn-footer"
              >Enviar un correo</a
            ><br />
            <a href="https://www.arduino.cc/" class="btn-footer" target="_blank"
              >Ir a: Arduino - Home
            </a>
          </div>

          <!--tercera columna-->
          <div class="col">
            <h6 style="margin-top: 10%">B√∫squeda</h6>
            <div class="social">
              <a
                href="https://instagram.com/electricaing_uc?igshid=1grr9yjuz5rk3"
                target="_blank"
                title="Instagram"
                ><i class="fab fa-instagram"></i
              ></a>
              <a
                href="https://www.facebook.com/groups/35195859789/?ref=share"
                target="_blank"
                title="Facebook"
                ><i class="fab fa-facebook-square"></i
              ></a>
              <a
                href="https://twitter.com/electricaing_uc?s=20"
                target="_blank"
                title="Twitter"
                ><i class="fab fa-twitter-square"></i
              ></a>
              <a
                href="https://youtube.com/channel/UC-zreC_L2Uqd7vYe4GNi1Hw"
                target="_blank"
                title="YouTube"
                ><i class="fab fa-youtube"></i
              ></a>
            </div>
            <form class="form-footer my-3" style="margin-bottom: 0 !important">
              <input type="text" placeholder="search here...." name="search" />
              <button id="go"><i class="fa fa-search"></i></button>
            </form>
            <p
              class="subTitle"
              style="
                font-style: italic;
                margin-bottom: 0;
                padding-bottom: 0;
                padding-top: 5%;
              "
            >
              Realizado por:
            </p>
            <p style="font-style: italic; padding: 0; margin-bottom: 0">
              Victor Ojeda, Gilberto Virguez
            </p>
          </div>
        </div>
      </footer>

      <!-- floating button <a href="mailto: vctrinox@gmail.com" class="float"><i class="fa fa-envelope my-float"></i></a>-->
      <div class="action" onclick="actionToggle()">
        <span>+</span>
        <ul
          style="
            font-family: 'Roboto', sans-serif;
            height: 100vw;
            overflow: auto;
          "
        >
        
          <li class="afterICon">
            <a class="icon"><b>PWM Timer 1</b></a>
          </li>
          
            <li><a href="#PWM-timer1">PWM Modo: Rapido</a></li>
            <li>
              <a href="#frecuencia-periodo"
                >Frecuencia y periodo de la se√±al PWM</a
              >
            </li>
          
  
          <li class="afterICon">
            <a class="icon"
              ><b>Obtener la se√±al PWM</b></a
            >
          </li>
          
            <li><a href="#obtenerSe√±alPWM">Obtenci√≥n de la se√±al</a></li>
            <li>
              <a href="#se√±alNoInvertida">Se√±al no invertida</a>
            </li>
            <li><a href="#se√±alInvertida">Se√±al Invertida</a></li>
            <li><a href="#anchoDePulso">Ancho de pulso</a></li>
          
  
          <li class="afterICon">
            <a class="icon"
              ><b>Configuraci√≥n de registros</b></a
            >
          </li>
          
            <li><a href="#TCCR1A">Registro¬†TCCR1A</a></li>
            <li>
              <a href="#TCCR1B">Registro¬†TCCR1B</a>
            </li>
            <li><a href="#Resolucion">Registro TCCR1A y TCCR1B: Resoluci√≥n</a></li>
            <li><a href="#OCR1A-OCR1B">Registro¬†OCR1A y Registro OCR1B</a></li>
          
  
          <li class="afterICon">
            <a class="icon"><b>Ejemplo 1</b></a>
          </li>
          
            <li><a href="#ejemplo1-anchoDePulsoFijo">Ancho de pulso fijo</a></li>
            <li>
              <a href="#OCR1B">Frecuencia y registro OCR1B</a>
            </li>
            <li>
              <a href="#TCCR1A-TCCR1B"
                >Configuraci√≥n del registro TCCR1A y TCCR1B</a
              >
            </li>
            <li><a href="#codigoEnC">C√≥digo en C y simulaci√≥n en Proteus</a></li>
          
  
          <li class="afterICon">
            <a class="icon"><b>Ejemplo 2</b></a>
          </li>
          
            <li><a href="#ejemplo2-anchoDePulsoVariable">Ancho de pulso variable</a></li>
            <li>
              <a href="#OCR1A2">Frecuencia y registro OCR1A</a>
            </li>
            <li>
              <a href="#TCCR1A2-TCCR1B2"
                >Configuraci√≥n del registro TCCR1A y TCCR1B</a
              >
            </li>
            <li><a href="#codigoEnC-2">C√≥digo en C y simulaci√≥n en Proteus</a></li>
          
  
          <li class="afterICon">
            <a class="icon"><b>Ejemplo 3</b></a>
          </li>
          
            <li><a href="#ejemplo3-manipulacion">Manipulaci√≥n del ancho de pulso</a></li>
            <li><a href="#codigoEnC-3">C√≥digo en C y simulaci√≥n en Proteus</a></li>
          
        </ul>
      </div>
      <!-- End of floating button -->
    </div>
  </body>
</html>
